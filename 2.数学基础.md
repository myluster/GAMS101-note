图像学的数学基础是**解析几何**与**高度代数**，默认坐标是列形式的，例如 $A=\left(\begin{matrix} x \\ y \end{matrix}\right)$

# 分量乘法（点乘）
$$
\vec{a} \cdot\vec{b}=\left(\begin{matrix} x_{a} \\ y_{a} \end{matrix}\right)\cdot\left(\begin{matrix} x_{b} \\ y_{b} \end{matrix}\right)=x_{a}x_{b}+y_{a}y_{b}
$$
（不用转置，因为是点乘）
点乘的代数定义是分量相乘后求和，但其核心是它的**几何定义**：
$$
\vec{a}\cdot \vec{b}=||a||\ ||b||\ \cos \theta \Rightarrow \theta=\arccos\left(\frac{\vec{a}\cdot \vec{b}}{||a||\cdot||b||}\right)
$$
其中 $\theta$ 是两个向量之间的夹角。在代码中，为避免除以零，需要确保两个向量的长度（模）不为零

点乘最直接的应用是判断向量间的方向关系：
- $\vec{a}\cdot \vec{b}>0$：两个向量夹角小于 ${90}^\circ$，方向大致相同
- $\vec{a}\cdot \vec{b}<0$：两个向量夹角大于 ${90}^\circ$，方向大致相反
- $\vec{a}\cdot \vec{b}=0$：两个向量夹角等于 ${90}^\circ$，相互垂直

# 向量投影
向量投影符号：$\bot$

$\vec{b}$ 在 $\vec{a}$ 上的投影为 $\vec{b}_{\bot}$，其有以下性质：

投影向量 $\vec{b}_{\bot}$ 是一个方向与 $\vec{a}$ 相同，长度为 $k$ 的向量，单位向量 $\hat{a}=\frac{\vec{a}}{||a||}$，有
$$
\vec{b}_{\bot}=k\cdot \hat{a}=||b||\cos \theta \cdot \hat{a}=\frac{a\cdot b}{{||a||}^2}a
$$
$\vec{b}-\vec{b}_{\bot}$ 的结果是一个与 $\vec{a}$ 垂直的向量，在几何上，它被称为向量 $\vec{b}$ 在 $\vec{a}$ 上的**拒绝向量** 或**正交分量**，也可以称为法线
![[2.数学基础-1754732066983.png]]
# 左右手系
openGL 永远使用右手系，directx 经常使用左手系

# 叉乘
 叉乘的结果是一个向量，代表了两个向量所形成的平面上的法向量。其长度等于两个向量之间夹角的正弦值乘以这两个向量的长度。这个值恰好等于由向量 $\vec{a}$ 和 $\vec{b}$ 张成的**平行四边形的面积**


## x、y、z 轴关系
在左手系和右手系中都成立
$$
\begin{align}
\vec{x} \times \vec{y} &= +\vec{z}  &\vec{a} \times \vec{b} &= -\vec{b} \times \vec{a} \\
\vec{y} \times \vec{z} &= +\vec{x}\\
\vec{z} \times \vec{y} &= -\vec{x} &\vec{a} \times \vec{a} &= \vec{0} \\
\vec{z} \times \vec{x} &= +\vec{y} &\vec{a} \times (\vec{b} + \vec{c}) &= \vec{a}\times \vec{b} + \vec{a} \times \vec{c} \\
\vec{x} \times \vec{z} &= -\vec{y}  &\vec{a} \times (k\vec{b}) &= k(\vec{a} \times \vec{b}) \\
\end{align}
$$
（记忆：轮转规则）
## 叉乘公式
$$
\vec{a}\times \vec{b}=\left(\begin{matrix}
y_{a}z_{b}-y_{b}z_{a} \\
z_{a}x_{b}-x_{a}z_{b} \\
x_{a}y_{b}-y_{a}x_{b}
\end{matrix}\right)=Ab=\left(\begin{matrix}
&0&-z_{a}&y_{a} \\
&z_{a}&0&-x_{a} \\
&-y_{a}&x_{a}&0
\end{matrix}\right)\left(\begin{matrix}
x_{b} \\
y_{b} \\
z_{b}
\end{matrix}\right)
$$
## 任意坐标系分解
$$
\begin{align}
||\vec{u}||=||\vec{v}||&=||\vec{w}||=1 \\
\vec{u}\cdot\vec{v}=\vec{v}\cdot\vec{w}&=\vec{w}\cdot\vec{u}=0 \\
\vec{w}&=\vec{u}\times\vec{v} \\
p&=(\vec{p}\cdot\vec{u})\vec{u}+(\vec{p}\cdot\vec{v})\vec{v}+(\vec{p}\cdot\vec{w})\vec{w}
\end{align}
$$
